<div>
  <app-hello-and-date></app-hello-and-date>
  <hr>

  <h1 class="mt-4 text-xl font-bold">Overview</h1>
  <div class="grid grid-cols-2 md:grid-cols-4 my-4 px-2 gap-4 md:gap-8 auto-rows-fr">
    <!-- <a routerLink="/superadmin/admins"
      class="flex flex-col justify-center items-center w-auto h-full aspect-square p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M18.844 7.875c-.138 1.906-1.552 3.375-3.094 3.375-1.542 0-2.959-1.468-3.094-3.375-.14-1.983 1.236-3.375 3.094-3.375 1.858 0 3.235 1.428 3.094 3.375Z">
          </path>
          <path
            d="M15.75 14.25c-3.055 0-5.993 1.517-6.729 4.472-.097.391.148.778.55.778h12.358c.402 0 .646-.387.55-.778-.736-3.002-3.674-4.472-6.73-4.472Z">
          </path>
          <path
            d="M9.375 8.716c-.11 1.522-1.253 2.722-2.484 2.722-1.232 0-2.377-1.2-2.485-2.722C4.294 7.132 5.406 6 6.891 6c1.484 0 2.596 1.161 2.484 2.716Z">
          </path>
          <path
            d="M9.657 14.341c-.846-.387-1.778-.536-2.766-.536-2.437 0-4.786 1.211-5.374 3.572-.077.312.118.62.44.62h5.262">
          </path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold">{{totalAdmin}}</h1>
      <p class="truncate hidden md:block">Total School Admin</p>
      <div class="flex items-center justify-center gap-x-2 mt-auto">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="2.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.25 11.438 12 4.688l6.75 6.75"></path>
          <path d="M12 5.625v13.688"></path>
        </svg>
        <p class="font-medium">0%</p>
      </div>
      <p class="text-xs md:text-sm text-center">From last month</p>
    </a> -->
    <a routerLink="/superadmin/schools"
      class="flex flex-col justify-center items-center w-auto h-full p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer text-center">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M18.844 7.875c-.138 1.906-1.552 3.375-3.094 3.375-1.542 0-2.959-1.468-3.094-3.375-.14-1.983 1.236-3.375 3.094-3.375 1.858 0 3.235 1.428 3.094 3.375Z">
          </path>
          <path
            d="M15.75 14.25c-3.055 0-5.993 1.517-6.729 4.472-.097.391.148.778.55.778h12.358c.402 0 .646-.387.55-.778-.736-3.002-3.674-4.472-6.73-4.472Z">
          </path>
          <path
            d="M9.375 8.716c-.11 1.522-1.253 2.722-2.484 2.722-1.232 0-2.377-1.2-2.485-2.722C4.294 7.132 5.406 6 6.891 6c1.484 0 2.596 1.161 2.484 2.716Z">
          </path>
          <path
            d="M9.657 14.341c-.846-.387-1.778-.536-2.766-.536-2.437 0-4.786 1.211-5.374 3.572-.077.312.118.62.44.62h5.262">
          </path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold ">{{totalAdmin}}</h1>
      <p class="truncate hidden md:block">Total School Admin</p>
      <!-- dashboard.component.html -->
      <div class="flex items-center justify-center gap-x-2 mt-8">
        <svg class="w-5 h-5 transition-all duration-300" [ngClass]="{
            'text-green-500': adminChangePercentage > 0,
            'text-red-500': adminChangePercentage < 0,
            'text-gray-500': adminChangePercentage === 0
          }" [ngStyle]="{
            transform: adminChangePercentage < 0 ? 'rotate(180deg)' : 'rotate(0deg)'
          }" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.25 11.438 12 4.688l6.75 6.75"></path>
          <path d="M12 5.625v13.688"></path>
        </svg>
        <p class="font-medium">{{ adminChangePercentage }}%</p>
      </div>
      <p class="text-xs md:text-sm text-center">From last month</p>
    </a>

    <a routerLink="/superadmin/schools"
      class="flex flex-col justify-center items-center w-auto h-full p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer text-center">
      <div>
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 10h-2V4h1V2H4v2h1v6H3a1 1 0 0 0-1 1v9h20v-9a1 1 0 0 0-1-1Zm-7 8v-4h-4v4H7V4h10v14h-3Z"></path>
          <path d="M9 6h2v2H9V6Zm4 0h2v2h-2V6Zm-4 4h2v2H9v-2Zm4 0h2v2h-2v-2Z"></path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold ">{{totalSchool}}</h1>
      <p class="truncate hidden md:block">Total School</p>
      <div class="flex items-center justify-center gap-x-2 mt-8">
        <svg class="w-5 h-5 transition-all duration-300" [ngClass]="{
            'text-green-500': schoolChangePercentage > 0,
            'text-red-500': schoolChangePercentage < 0,
            'text-gray-500': schoolChangePercentage === 0
          }" [ngStyle]="{
            transform: schoolChangePercentage < 0 ? 'rotate(180deg)' : 'rotate(0deg)'
          }" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.25 11.438 12 4.688l6.75 6.75"></path>
          <path d="M12 5.625v13.688"></path>
        </svg>
        <p class="font-medium">{{schoolChangePercentage}}%</p>
      </div>
      <p class="text-xs md:text-sm text-center">From last month</p>
    </a>
    <a routerLink="/superadmin/drivers"
      class="flex flex-col justify-center items-center w-auto h-full p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer text-center">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 4H3a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1Z"></path>
          <path d="M8.5 12.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path>
          <path d="M11.5 15.5a3 3 0 0 0-6 0"></path>
          <path d="M14 10h4"></path>
          <path d="M15 14h3"></path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold ">{{totalDriver}}</h1>
      <p class="truncate hidden md:block">Total Driver</p>
      <div class="flex items-center justify-center gap-x-2 mt-8">
        <svg class="w-5 h-5 transition-all duration-300" [ngClass]="{
          'text-green-500': driverChangePercentage > 0,
          'text-red-500': driverChangePercentage < 0,
          'text-gray-500': driverChangePercentage === 0
        }" [ngStyle]="{
          transform: driverChangePercentage < 0 ? 'rotate(180deg)' : 'rotate(0deg)'
        }" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.25 11.438 12 4.688l6.75 6.75"></path>
          <path d="M12 5.625v13.688"></path>
        </svg>
        <p class="font-medium">{{driverChangePercentage}}%</p>
      </div>
      <p class="text-xs md:text-sm text-center">From last month</p>
    </a>
    <div
      class="flex flex-col justify-center items-center w-auto h-full p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer text-center">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="m3.75 10.5 1.77-4.132c.29-.673 1.024-1.118 1.845-1.118h9.27c.821 0 1.556.445 1.844 1.118L20.25 10.5">
          </path>
          <path d="M20.25 10.5H3.75v6.75h16.5V10.5Z"></path>
          <path d="M5.25 17.25v1.5h-1.5v-1.5"></path>
          <path d="M20.25 17.25v1.5h-1.5v-1.5"></path>
          <path d="M6.75 14.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"></path>
          <path d="M17.25 14.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"></path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold ">{{totalVehicle}}</h1>
      <p class="truncate hidden md:block">Total Vehicle</p>
      <div class="flex items-center justify-center gap-x-2 mt-8">
        <svg class="w-5 h-5 transition-all duration-300" [ngClass]="{
          'text-green-500': vehicleChangePercentage > 0,
          'text-red-500': vehicleChangePercentage < 0,
          'text-gray-500': vehicleChangePercentage === 0
        }" [ngStyle]="{
          transform: vehicleChangePercentage < 0 ? 'rotate(180deg)' : 'rotate(0deg)'
        }" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
          viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.25 11.438 12 4.688l6.75 6.75"></path>
          <path d="M12 5.625v13.688"></path>
        </svg>
        <p class="font-medium">{{vehicleChangePercentage}}%</p>
      </div>
      <p class="text-xs md:text-sm text-center">From last month</p>
    </div>
  </div>

  <div class="grid grid-cols-2 md:grid-cols-4 my-4 px-2 gap-4 md:gap-8 auto-rows-fr">

    <!-- <div class="grid grid-cols-2 md:grid-cols-4 my-4 px-2 gap-4 md:gap-8"> -->
    <div class="relative flex flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md col-span-2 border">
      <div class="pt-6 px-2 pb-6">
        <h1 class="text-2xl font-semibold text-gray-800 mb-4 capitalize">
          Total Student Growth
        </h1>
        <p class="text-sm text-gray-500 mb-6 text-left">
          Total student growth in 2025
        </p>
        <span>

        </span>
        <div class="w-full h-full flex justify-center items-center">
          <div class="w-full h-48">
            <svg viewBox="0 0 500 215" class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
              <!-- Grid lines -->
              <line x1="40" y1="10" x2="40" y2="190" stroke="#ddd" stroke-width="1" />
              <line x1="40" y1="190" x2="490" y2="190" stroke="#ddd" stroke-width="1" />

              <!-- Y-axis labels -->
              <text x="10" y="190" font-size="10" fill="#555">0</text>
              <text x="10" y="100" font-size="10" fill="#555">50</text>
              <text x="10" y="40" font-size="10" fill="#555">100</text>

              <!-- X-axis labels -->
              <ng-container *ngFor="let data of growthData; let i = index">
                <text [attr.x]="50 + i * 40" y="210" font-size="10" fill="#555" class="pt-1">{{ data.month }}</text>
              </ng-container>

              <!-- Line Chart -->
              <polyline fill="none" stroke="#4F46E5" stroke-width="2" [attr.points]="getPoints()"></polyline>

              <!-- Data Points with Tooltip -->
              <ng-container *ngFor="let data of growthData; let i = index">
                <!-- Scale factor is updated to map 0-100 range to the SVG height -->
                <circle [attr.cx]="50 + i * 40" [attr.cy]="190 - (data.growth * 1.8)" r="6" fill="#4F46E5"
                  (mouseover)="showTooltip($event, data)" (mouseout)="hideTooltip()" />
              </ng-container>
            </svg>
          </div>
        </div>

        <!-- Tooltip Display -->
        <div *ngIf="tooltipVisible" class="absolute bg-gray-700 text-white text-sm p-2 rounded-lg"
          [style.left.px]="tooltipX" [style.top.px]="tooltipY">
          <p><strong>{{ tooltipData.month }}:</strong> {{ tooltipData.growth }} Students</p>
        </div>


      </div>
    </div>

    <div
      class="w-full max-w-md mx-auto p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl shadow-lg col-span-2 md:col-span-1 border">
      <!-- Header with Icon -->
      <div class="flex items-center mb-4">
        <div class="bg-yellow-500 text-white p-3 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 4h10M5 11h14M7 16h10m-8 5h6" />
          </svg>
        </div>
        <h2 class="text-2xl font-semibold text-gray-800 ml-3">Yesterday's Shuttle</h2>
      </div>

      <!-- Subtext -->
      <p class="text-sm text-gray-500 mb-6 text-center">
        Number of pick-ups yesterday: <span class="font-medium text-yellow-600">{{shuttle_date_yesterday}} </span>
      </p>

      <!-- Donut Chart Container -->
      <div class="relative w-40 h-40 mx-auto">
        <!-- Background Circle -->
        <div class="absolute inset-0 rounded-full border-8 border-gray-200"></div>
        <!-- Progress Circle -->
        <div class="absolute inset-0 rounded-full border-8 border-yellow-500">
        </div>
        <!-- Text in the center -->
        <div class="absolute inset-0 flex flex-col justify-center items-center">
          <span class="font-bold text-4xl text-gray-800">{{shuttle_yesterday}}</span>
          <span class="text-sm text-gray-500">pick-ups</span>
        </div>
      </div>

      <!-- Footer Note -->
      <p class="mt-6 text-xs text-gray-400 text-center">
        Data updated at N/A
      </p>
    </div>

    <div
      class="flex flex-col w-full max-w-md mx-auto p-6 bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-lg col-span-2 md:col-span-1 border">
      <!-- Header with Icon -->
      <div class="flex items-center mb-4">
        <div class="bg-blue-500 text-white p-3 rounded-full">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
            stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M19.5 3.75h-15A2.25 2.25 0 0 0 2.25 6v13.5a2.25 2.25 0 0 0 2.25 2.25h15a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25Z">
            </path>
            <path fill="currentColor" stroke="none" d="M13.875 12a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path fill="currentColor" stroke="none" d="M17.625 12a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path fill="currentColor" stroke="none"
              d="M13.875 15.75a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"></path>
            <path fill="currentColor" stroke="none"
              d="M17.625 15.75a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"></path>
            <path fill="currentColor" stroke="none" d="M6.375 15.75a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path fill="currentColor" stroke="none"
              d="M10.125 15.75a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"></path>
            <path fill="currentColor" stroke="none" d="M6.375 19.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path fill="currentColor" stroke="none" d="M10.125 19.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path fill="currentColor" stroke="none" d="M13.875 19.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z">
            </path>
            <path d="M6 2.25v1.5"></path>
            <path d="M18 2.25v1.5"></path>
            <path d="M21.75 7.5H2.25"></path>
          </svg>
        </div>
        <h2 class="text-2xl font-semibold text-gray-800 ml-3">Today's Shuttle</h2>
      </div>

      <!-- Subtext -->
      <p class="text-sm text-gray-500 mb-6 text-center">
        Number of pick-ups today: <span class="font-medium text-blue-600">{{shuttle_date_today}}</span>
      </p>

      <!-- Donut Chart Container -->
      <div class="relative w-40 h-40 mx-auto">
        <!-- Background Circle -->
        <div class="absolute top-0 left-0 w-full h-full rounded-full border-8 border-gray-200"></div>
        <!-- Filled Portion -->
        <div class="absolute top-0 left-0 w-full h-full rounded-full border-8 border-blue-500"></div>
        <!-- Text in the center -->
        <div class="absolute inset-0 flex flex-col justify-center items-center text-gray-800">
          <span class="font-bold text-4xl">{{shuttle_today}}</span>
          <span class="text-sm text-gray-500">pick-ups</span>
        </div>
      </div>

      <!-- Footer Note -->
      <p class="mt-6 text-xs text-gray-400 text-center">
        Last updated at N/A
      </p>
    </div>



    <!-- </div> -->
  </div>

  <!-- <h1 class="mt-4 text-xl font-bold">Data Overview</h1>
  <div class="grid grid-cols-2 md:grid-cols-4 my-4 px-2 gap-4 md:gap-8">
    <div
      class="w-auto aspect-square p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="m3.75 10.5 1.77-4.132c.29-.673 1.024-1.118 1.845-1.118h9.27c.821 0 1.556.445 1.844 1.118L20.25 10.5">
          </path>
          <path d="M20.25 10.5H3.75v6.75h16.5V10.5Z"></path>
          <path d="M5.25 17.25v1.5h-1.5v-1.5"></path>
          <path d="M20.25 17.25v1.5h-1.5v-1.5"></path>
          <path d="M6.75 14.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"></path>
          <path d="M17.25 14.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"></path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold">95%</h1>
      <p class="truncate hidden md:block">Ketepatan Waktu</p>
    </div>
    <div
      class="w-auto aspect-square p-6 border shadow-md rounded-lg bg-white text-black hover:text-white hover:bg-black hover:scale-[98%] hover:shadow-lg transform transition-transform cursor-pointer">
      <div>
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
          stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"></path>
          <path d="M12.004 6v6.004l4.24 4.24"></path>
        </svg>
      </div>
      <h1 class="text-[2.5rem] font-bold">06:45</h1>
      <p class="truncate hidden md:block">Rata Rata Waktu Jemput</p>
    </div>
  </div> -->
</div>